"use strict";System.register(["app/plugins/sdk","lodash"],function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f,g,h,i;return{setters:[function(a){f=a.MetricsPanelCtrl},function(a){g=a["default"]}],execute:function(){h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a("SampleCtrl",i=function(a){function b($scope,$injector,$rootScope){c(this,b);var a=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,$scope,$injector));a.$rootScope=$rootScope;var e={data:{dataValue:0,dataLabel:""},FontSize:"70%"};return g.defaults(a.panel,e),a.fontCalc=[{text:"60%",value:"0.6vw"},{text:"70%",value:"0.8vw"},{text:"80%",value:"1vw"},{text:"100%",value:"1.4vw"},{text:"110%",value:"1.6vw"},{text:"120%",value:"1.8vw"},{text:"130%",value:"2vw"},{text:"140%",value:"2.2vw"},{text:"150%",value:"2.4vw"},{text:"160%",value:"2.6vw"},{text:"180%",value:"3vw"},{text:"200%",value:"3.4vw"},{text:"220%",value:"3.8vw"},{text:"230%",value:"4vw"}],a.scope.$$listeners.isWisePaas&&(a.events.on("render",a.onRender.bind(a)),a.events.on("data-received",a.onDataReceived.bind(a)),a.events.on("data-error",a.onDataError.bind(a)),a.events.on("data-snapshot-load",a.onDataReceived.bind(a)),a.events.on("init-edit-mode",a.onInitEditMode.bind(a))),a}return e(b,a),h(b,[{key:"onRender",value:function(){console.log("Render",this)}},{key:"onDataReceived",value:function(a){if(console.log("DataList:",a,this),a.length>0){if(a.length>1){var b=new Error;throw b.message="Multiple Series Error",b.data="Metrics query returns"+a.length+"series. This panel excepts a single series.\n\nResponse:\n"+JSON.stringify(a),b}var c=a[0].datapoints.length;c&&(this.panel.data.dataValue=a[0].datapoints[c-1][0],this.panel.data.dataLabel=Date(a[0].datapoints[c-1][1]))}else this.panel.data.dataValue=0,this.panel.data.dataLabel="null";this.render()}},{key:"onDataError",value:function(){this.panel.data.dataLabel="Data Error",this.render()}},{key:"onInitEditMode",value:function(){this.addEditorTab("Options","public/plugins/sample-panel/editor.html",2)}}]),b}(f)),a("SampleCtrl",i),i.templateUrl="module.html"}}});
//# sourceMappingURL=sample_ctrl.js.map